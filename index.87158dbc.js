var API_KEY="22910062-3497cb46ee95463a66c6aaf70",BASE_URL="https://pixabay.com/api/",currentPage=1,currentQuery="",searchForm=document.getElementById("search-form"),gallery=document.querySelector(".gallery"),loadMoreButton=document.querySelector(".load-more");function onSearch(e){e.preventDefault(),currentQuery=e.target.elements.searchQuery.value.trim(),currentPage=1,gallery.innerHTML="",loadMoreButton.classList.add("hidden"),""!==currentQuery?fetchImages(currentQuery,currentPage):Notiflix.Notify.warning("Please enter a search term.")}function onLoadMore(){fetchImages(currentQuery,++currentPage)}function fetchImages(e,t){console.log('Fetching images for query: "'.concat(e,'", page: ').concat(t)),axios.get(BASE_URL,{params:{key:API_KEY,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:20}}).then((function(e){var o=e.data,a=o.hits,r=o.totalHits;console.log("Total Hits: ".concat(r,", Hits Length: ").concat(a.length)),0!==a.length?(renderGallery(a),1===t&&Notiflix.Notify.success("Hooray! We found ".concat(r," images.")),gallery.childElementCount>=r?(loadMoreButton.classList.add("hidden"),Notiflix.Notify.info("We're sorry, but you've reached the end of search results.")):loadMoreButton.classList.remove("hidden")):Notiflix.Notify.failure("Sorry, there are no images matching your search query. Please try again.")})).catch((function(e){Notiflix.Notify.failure("Oops! Something went wrong! Try reloading the page."),console.error("Error fetching images:",e)}))}function renderGallery(e){var t=e.map((function(e){return'\n      <a href="'.concat(e.largeImageURL,'" class="photo-card">\n        <img src="').concat(e.webformatURL,'" alt="').concat(e.tags,'" loading="lazy" />\n        <div class="info">\n          <p class="info-item"><b>Likes</b> ').concat(e.likes,'</p>\n          <p class="info-item"><b>Views</b> ').concat(e.views,'</p>\n          <p class="info-item"><b>Comments</b> ').concat(e.comments,'</p>\n          <p class="info-item"><b>Downloads</b> ').concat(e.downloads,"</p>\n        </div>\n      </a>")})).join("");gallery.insertAdjacentHTML("beforeend",t),new SimpleLightbox(".gallery a",{captionsData:"alt",captionDelay:250}).refresh(),smoothScroll()}function smoothScroll(){var e=document.querySelector(".gallery").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:2*e,behavior:"smooth"})}searchForm.addEventListener("submit",onSearch),loadMoreButton.addEventListener("click",onLoadMore);
//# sourceMappingURL=index.87158dbc.js.map
